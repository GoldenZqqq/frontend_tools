<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>svg图标描边动画-iconfont测试</title>
    <style>
      .p {
        fill: none;
        stroke: #f40;
        stroke-width: 10;
        /* 虚线间隔 */
        stroke-dasharray: var(--l);
        /* 虚线偏移量 */
        stroke-dashoffset: var(--l);
        animation: stroke 2s forwards;
        /* 线头变圆 */
        stroke-linecap: round;
      }
      @keyframes stroke {
        to {
          stroke-dashoffset: 0;
        }
      }
    </style>
  </head>
  <body>
    <svg
      t="1726830010041"
      class="icon"
      viewBox="0 0 1024 1024"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      p-id="1468"
      width="200"
      height="200"
    >
      <path
        class="p"
        d="M512 42.65984q17.67424 0 30.16704 12.4928t12.4928 30.16704l0 494.32576 140.32896-140.67712q12.32896-12.32896 30.33088-12.32896 18.3296 0 30.49472 12.16512t12.16512 30.49472q0 18.00192-12.32896 30.33088l-213.34016 213.34016q-12.32896 12.32896-30.33088 12.32896t-30.33088-12.32896l-213.34016-213.34016q-12.32896-13.0048-12.32896-30.33088 0-17.67424 12.4928-30.16704t30.16704-12.4928q18.00192 0 30.33088 12.32896l140.32896 140.67712 0-494.32576q0-17.67424 12.4928-30.16704t30.16704-12.4928zM938.65984 640q17.67424 0 30.16704 12.4928t12.4928 30.16704l0 170.65984q0 53.32992-37.00736 90.33728-37.66272 37.66272-90.0096 37.66272l-683.66336 0q-52.3264 0-90.66496-37.33504-37.33504-38.33856-37.33504-90.66496l0-170.65984q0-17.67424 12.4928-30.16704t30.16704-12.4928 30.16704 12.4928 12.4928 30.16704l0 170.65984q0 17.67424 12.4928 30.16704t30.16704 12.4928l683.66336 0q17.32608 0 29.4912-12.4928t12.16512-30.16704l0-170.65984q0-17.67424 12.4928-30.16704t30.16704-12.4928z"
        fill="#444444"
        p-id="1469"
      ></path>
    </svg>

    <script>
      const paths = document.querySelectorAll(".icon .p")
      paths.forEach(path => {
        const len = path.getTotalLength()
        path.style.setProperty("--l", len + 1)
      })
    </script>
  </body>
</html>
